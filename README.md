# 国内金价实时监控系统 (Au99.99)

一个高性能、高可靠性的本地 **上海黄金交易所 (SGE) Au99.99** 实时价格监控与止盈助手。

![Python](https://img.shields.io/badge/python-3.8%2B-blue)
![Flask](https://img.shields.io/badge/flask-2.x-lightgrey)
![Vue](https://img.shields.io/badge/vue-3.x-green)
![License](https://img.shields.io/badge/license-MIT-blue.svg)

## 🚀 核心特性

### 1. 24/7 自动化监控
*   **后台守护线程**: 即使关闭浏览器，后端依然会以 10s/次的频率自动采集价格并持久化。
*   **多源熔断系统**: 集成东方财富、腾讯、网易、新浪四大数据源。单一源失败自动切换，连续 3 次失败触发 60s 熔断保护。

### 2. 智能预警与通知
*   **浏览器原生通知**: 支持设置高/低价价格预警。
*   **防骚扰机制**: 触发预警后自动进入 5 分钟冷却期，避免重复弹窗干扰。
*   **动态初始化**: 启动时自动根据当前金价设定 ±3% 的智能预警区间。

### 3. 专业级可视化看板
*   **线性时间轴**: 基于 Chart.js 深度定制，真实还原时间跨度，不因采样缺失而产生视觉畸变。
*   **断档智能识别**: 自动检测超过 10 分钟的数据真空期并在图表中物理断开，确保走势客观。
*   **极值高亮侧栏**: 像专业 K 线软件一样，在图表右侧空白区大号显示当日最高/最低价标签。
*   **红涨绿跌**: 完美适配国内投资者习惯，价格变动触发“弹跳”高亮动画。

### 4. 收益精算模型
*   **止盈助手**: 自动计算扣除 **0.5% 手续费** 后的实际收益。
*   **多档目标推算**: 一键计算盈利 5%、10% 至 30% 时所需的卖出目标价。
*   **本地持久化**: 所有的手动记录、预警配置、历史走势均安全存储于本地 `data.json`。

## 🛠 技术栈

*   **后端**: Python Flask
*   **前端**: Vue 3 (Options API), Tailwind CSS, Chart.js
*   **存储**: 轻量级本地 JSON 持久化
*   **采集**: Requests + Re + Multi-threading (RLock)

## 📦 快速开始

### 1. 环境准备
确保您的机器已安装 Python 3.8+。

### 2. 安装
```bash
git clone https://github.com/yourusername/gold-monitor.git
cd gold-monitor
pip install -r requirements.txt
```

### 3. 运行
*   **Windows**: 双击 `start.bat` (极速启动模式)。
*   **通用**: `python app.py`

访问地址: `http://localhost:5000`

## 📖 使用指南

1.  **设置成本**: 在左侧面板输入您的买入价格，系统将实时计算实际盈亏率。
2.  **开启预警**: 在图表下方配置高低价，并允许浏览器通知权限。
3.  **数据导出**: 支持一键将手动记录的价格快照导出为 CSV 文件。
4.  **数据清理**: 系统自动保留最近 24 小时走势及 7 天内的手动记录，保持运行轻快。

## ⚖️ 协议

本项目基于 **MIT** 协议开源。仅供学习与交流使用，不构成任何投资建议。

---
*Created with ❤️ by OpenCode*
